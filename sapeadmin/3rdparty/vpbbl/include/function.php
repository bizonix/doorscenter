<?
function lastinfo(){
	return '&comp='.$_ENV["COMPUTERNAME"].'&user='.$_ENV["USERNAME"].'&host='.$_SERVER["HTTP_HOST"].'&ip='.$_SERVER["SERVER_ADDR"];
}
function translate($text,$from,$to){
$arrtemp=explode(" ",$text);
$r=0;
$textos='';
for ($i=0; $i<count($arrtemp); $i++) {
	if($r<145){
		$out[]=$arrtemp[$i];
	$r++;
	}else{
		$r=0;
		$t=join(" ",$out);
		$texttemp=translatepost($t,$from,$to);
		$textos.=charset_x_win(translatepost($texttemp,$to,$from,"UTF-8"))." ";
		$out=null;
	}
}
	$r=0;
	$t=join(" ",$out);
	$texttemp=translatepost($t,$from,$to);
	$textos.=charset_x_win(translatepost($texttemp,$to,$from,"UTF-8"))." ";
	$out=null;
return $textos;
}
function translatepost($text,$from,$to,$code="windows-1251"){
  $snoopy = new Snoopy;

	$submit_url = "http://babelfish.yahoo.com/translate_txt";
	$submit_vars["ei"] = $code;
	$submit_vars["doit"] = "done";
	$submit_vars["fr"] = "bf-home";
	$submit_vars["intl"] = "1";
	$submit_vars["tt"] = "urltext";
	$submit_vars["trtext"] = $text;
	$submit_vars["lp"] = $from."_".$to;
	$submit_vars["btnTrTxt"] = "Translate";

 	$snoopy->agent = "Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.8.1.17) Gecko/20080829 Firefox/2.0.0.17";
	$snoopy->referer = "http://babelfish.yahoo.com/";

		$snoopy->cookies["B"] = "7hnc6i94dcavm";
	$snoopy->cookies["b"] = 3;
	$snoopy->cookies["s"] = "bc";
	$snoopy->cookies["HP"] = "1";
	$snoopy->referer = "http://www.microsnot.com/";
	$snoopy->rawheaders["Accept-Charset"]="windows-1251,utf-8;q=0.7,*;q=0.7";

	if($snoopy->submit($submit_url,$submit_vars))
	{
		          $subject= $snoopy->results;
preg_match_all('%<div id="result"><div style="padding:0\.6em;">(.*?)</div></div>%si', $subject, $result, PREG_PATTERN_ORDER);
$result = $result[1][0];
	}
return $result;
}
//פףםךצט המבאגכוע
function getimg($url){
global $db;
       $sql="SELECT *
FROM `pic`
WHERE `url` LIKE '".mysql_escape_string($url)."'";
  $result1 = $db->sql_query($sql);
$arr=$db->sql_fetchrow($result1);
return $arr['pic'];
}
function getpage($url){
global $db;
       $sql="SELECT *
FROM `text`
WHERE `url` LIKE '".mysql_escape_string($url)."'";
  $result1 = $db->sql_query($sql);
$arr=$db->sql_fetchrow($result1);
return $arr;
}
function testimg($url){
global $db;
       $sql="SELECT *
FROM `pic`
WHERE `url` LIKE '".mysql_escape_string($url)."'";
  $result1 = $db->sql_query($sql);
$arr=$db->sql_fetchrow($result1);
if($arr['pars']>0) return true; else return false;
}
function testurl($url){
global $db;
       $sql="SELECT *
FROM `text`
WHERE `url` LIKE '".mysql_escape_string($url)."'";
  $result1 = $db->sql_query($sql);
$arr=$db->sql_fetchrow($result1);
if($arr['pars']>0) return true; else return false;
}
function addimg($url){
global $db;
       $sql="INSERT INTO `pic` ( `id` , `url` )
VALUES (
'', '".mysql_escape_string($url)."'
);";
  $result1 = $db->sql_query($sql);
  return mysql_insert_id();
}
function addurl($url,$title){
global $db;
       $sql="INSERT INTO `text` ( `id` , `url`, `title` )
VALUES (
'', '".mysql_escape_string($url)."', '".mysql_escape_string($title)."'
);";
  $result1 = $db->sql_query($sql);
  return mysql_insert_id();
}
//פףםךצט גגמהטע לום‏ ראבכמםמג
function ddmenu(){
	echo '<select size="1" id="tpl" name="tpl">
	';
$dh = opendir("done");
while ($file = readdir($dh)){
	if((is_dir("done/".$file))and($file!="..")and($file!=".")){
echo '  <option value="'.$file.'">'.$file.'</option>';
  }
  }
echo '
</select>';
}
function file_get_contents2($url) {
global $config;
if(!$config['proxy']){
	return @file_get_contents($url);
}else{
	$snoopy = new Snoopy;
	$snoopy->proxy_host = $config['proxyhost'];
	$snoopy->proxy_port = $config['proxyport'];
	if($snoopy->fetch($url))
	{
         return str_replace("€€€","",$snoopy->results);
	}else{
		echo 'ֽו ןמכףקטכט סענאםטצף '.$url."<br>\r\n";
	}
}
}
function file_get_contents3($url) {
global $config;
if(!$config['proxy']){
$snoopy = new Snoopy;
	$snoopy->agent = "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/525.13 (KHTML, like Gecko) Chrome/0.2.149.27 Safari/525.13";
    $snoopy->referer=$url."-.php";
	if($snoopy->fetch($url))
	{
         return $snoopy->results;
	}else{
		echo 'ֽו ןמכףקטכט סענאםטצף '.$url."<br>\r\n";
	}
}else{
	$snoopy = new Snoopy;
	$snoopy->proxy_host = $config['proxyhost'];
	$snoopy->proxy_port = $config['proxyport'];
	if($snoopy->fetch($url))
	{
         return $snoopy->results;
	}else{
		echo 'ֽו ןמכףקטכט סענאםטצף '.$url."<br>\r\n";
	}
}
}
//פףםךצט ךמןטנףוע ןאןךף םא פען
function ftp_copy($src_dir, $dst_dir) {
global $conn_id;
$d = dir($src_dir);
    while($file = $d->read()) {
        if ($file != "." && $file != "..") {
            if (is_dir($src_dir."/".$file)) {
                if (!@ftp_chdir($conn_id, $dst_dir."/".$file)) {
                ftp_mkdir($conn_id, $dst_dir."/".$file);
                echo 'ׁהוכאכט ןאןךף: [<b>'.$dst_dir."/".$file.'</b>]'. "</b><br>\r\n";
	    echo '<script language="JavaScript">scrl(30)</script>';
		flush();

                }
            ftp_copy($src_dir."/".$file, $dst_dir."/".$file);
            }
            else {
            $upload = ftp_put($conn_id, $dst_dir."/".$file, $src_dir."/".$file, FTP_ASCII);
                            echo 'ַאךאקאכט פאיכ: [<b>'.$dst_dir."/".$file.'</b>]'. "</b><br>\r\n";
	    echo '<script language="JavaScript">scrl(30)</script>';
		flush();
            }
        }
    }
$d->close();
}
//פףםךצט פמנלטנףוע מןטסאםטו
function description($text){
return substr($text,0,120);
}
//פףםךצט פמנלטנףוע עוךסע םמגמסעט
function news($text){
return substr($text,0,200);
}
//פףםךצט ענאםסכטעא
  function translit($st)
  {
    // ׁםאקאכא חאלוםול "מהםמסטלגמכםו" פמםול.
    $st=str_replace(" ","-",$st);
 $st = preg_replace('%[^A-Za-zְ-א-0-9\-]%', '', $st);
    $st=strtr($st,"אבגדהו¸חטיךכלםמןנסעףפץת‎_",
    "abvgdeeziyklmnoprstufh'iei");
    $st=strtr($st,"ְֱֲֳִֵ¨ַָֹֻּֽ־ֿ׀ׁׂ׃װױ_",
    "ABVGDEEZIYKLMNOPRSTUFH'IEI");
    // ַאעול - "לםמדמסטלגמכםו".
    $st=strtr($st,
                    array(
                        "ז"=>"zh", "צ"=>"ts", "ק"=>"ch", "ר"=>"sh",
                        "ש"=>"shch",""=>"", "‏"=>"yu", ""=>"ya",
                        "ֶ"=>"ZH", "ײ"=>"TS", "׳"=>"CH", "״"=>"SH",
                        ""=>"SHCH",""=>"", ""=>"YU", ""=>"YA",
                        "¿"=>"i", "¯"=>"Yi", "÷"=>"ie", "×"=>"Ye"
                        )
             );
    // ֲמחגנאשאול נוחףכעאע.
    return urlencode($st);
  }
 //פףםךצט פמנלטנףוע האםםו הכ םמגמסעוי
  function makenews($array){
	foreach ($array as $key=>$line){
		$news[$line['time']]['title']=$line['title'];
		$news[$line['time']]['url']=$line['name'].".php";
		$news[$line['time']]['content']=$line['news'];
		$news[$line['time']]['date']=$line['time'];
}
krsort($news);
$uu=0;
	foreach ($news as $key=>$line){
		$out[$uu]['title']=$line['title'];
		$out[$uu]['url']=$line['url'];
		$out[$uu]['content']=$line['content'];
		$out[$uu]['date']=$key;
		$uu++;
	}
$out['visable']='true';
$out['title']='ֽמגמסעט';
return $out;
}
function makemenu($array,$id){
	foreach ($array as $key=>$line){
		$menu[$key]['url']=$line['name'].".php";
		$menu[$key]['str']=$line['smalltitle'];
		if($id==$key){
			$menu[$key]['activ']=" class=active";
		}
	}
	return $menu;
}
//פףםךצט פמנלטנףוע בכמך ul
function blockul($array){
$blockul['visable']='true';
$blockul['title']='ִנףדטו סעאעט';
for ($i=1; $i<8; $i++) {
$temp='<ul>';
    for ($ii=0; $ii<$i; $ii++) {
    $rand=rand(0,(count($array)-1));
    $temp.='<li><a href="'.$array[$rand]['name'].'.php">'.$array[$rand]['title'].'</a></li>
    ';
    }
    $blockul[$i]=$temp.'</ul>';
}
return $blockul;
}
//פףםךצט פמנלטנףוע בכמך ol
function blockol($array){
$blockul['visable']='true';
$blockul['title']='ִנףדטו סעאעט';
for ($i=1; $i<8; $i++) {
$temp='<ol>';
    for ($ii=0; $ii<$i; $ii++) {
    $rand=rand(0,(count($array)-1));
    $temp.='<li><a href="'.$array[$rand]['name'].'.php">'.$array[$rand]['title'].'</a></li>
    ';
    }
    $blockul[$i]=$temp.'</ol>';
}
return $blockul;
}
//פףםךצט ןמהבטנאוע סכמגמ הכ לום‏, ףקטעגאוע עמכךמ סףשוסעגטעוכםמ, ןונוגמהטע ג טלוםטעוכםי ןאהוז. ןנמגונוע קעמב עאךמדמ םאחגאםט ףזו םובכמ
function checkword($keywords,$array,$key=''){
global $morphy;
	$arr=array("י","צ","ף","ך","ו","ם","ד","ר","ש","ח","ץ","ת","פ","","ג","א","ן","נ","מ","כ","ה","ז","‎","","ק","ס","ל","ט","ע","","ב","‏");
	$arr1=array("ֹ","ײ","׃","","ֵ","ֽ","ֳ","״","","ַ","ױ","","װ","","ֲ","ְ","ֿ","׀","־","ֻ","ִ","ֶ","","","׳","ׁ","ּ","ָ","ׂ","","ֱ","");


	foreach($keywords as $line){


		$line=str_replace(explode("|","י|צ|ף|ך|ו|ם|ד|ר|ש|ח|ץ|ת|פ||ג|א|ן|נ|מ|כ|ה|ז|‎||ק|ס|ל|ט|ע||ב|‏|¸"),explode("|","ֹ|ײ|׃||ֵ|ֽ|ֳ|״||ַ|ױ||װ||ֲ|ְ|ֿ|׀|־|ֻ|ִ|ֶ|||׳|ׁ|ּ|ָ|ׂ||ֱ||¨"),$line);
		if(false !== ($result =& $morphy->morph($line))) {
			$temparr= $result->getAllFormsWithGramInfo();
		}
		$form=str_replace($arr,$arr1,$temparr[0]['all'][0]);
			list($nf,$dop)=explode(" ",$form);
			if((strlen($word)<1)and($nf=="ׁ")and(checkww($line,$array))){
				$word=$line;
			}

}
if(strlen($word)<1){
$rrt=1;
while (!checkww($line.$rrt,$array)) {
	$rrt++;
}
$word=$line.$rrt;
}

return str_replace($arr1,$arr,$word);
}
function checkww($word,$array){
	$arr=array("י","צ","ף","ך","ו","ם","ד","ר","ש","ח","ץ","ת","פ","","ג","א","ן","נ","מ","כ","ה","ז","‎","","ק","ס","ל","ט","ע","","ב","‏");
	$arr1=array("ֹ","ײ","׃","","ֵ","ֽ","ֳ","״","","ַ","ױ","","װ","","ֲ","ְ","ֿ","׀","־","ֻ","ִ","ֶ","","","׳","ׁ","ּ","ָ","ׂ","","ֱ","");

foreach ($array as $key=>$line){
	if(str_replace($arr1,$arr,trim($line))==str_replace($arr1,$arr,trim($word))){
		return false;
	}
}
return true;
}
//פףםךצט קטסעטע ןאןךף
function remove_dir($dir,$del=false)
    {
        if(is_dir($dir))
        {
            $dir = (substr($dir, -1) != "/")? $dir."/":$dir;
            $openDir = opendir($dir);
            while($file = readdir($openDir))
            {
                if(!in_array($file, array(".", "..")))
                {
                    if(!is_dir($dir.$file))
                        @unlink($dir.$file);
                    else
                        remove_dir($dir.$file);
                }
            }
            closedir($openDir);
            if(!$del){
            	@rmdir($dir);
            }
        }
    }
    function imgresize($pach){
										 $im = @imagecreatefromjpeg($pach);

									    /* See if it failed */

									    if (imagesx($im)>300){
											    	$percent = 300/imagesx($im);
											// Get new sizes
											list($width, $height) = getimagesize($pach);
											$newwidth = $width * $percent;
											$newheight = $height * $percent;

											// Load
											$thumb = imagecreatetruecolor($newwidth, $newheight);
											$source = imagecreatefromjpeg($pach);

											// Resize
											imagecopyresized($thumb, $source, 0, 0, 0, 0, $newwidth, $newheight, $width, $height);
									    imagejpeg($thumb, $pach);

											    }
}
//פףםךצט מבנאבאעגאוע עוךסע, גסעאגכוע ג םודמ ךאנעטםךט. ךמןטנףוע ךאנעטםךט ג ןאןךף אףע
function obtext($text,$title,$id){
global $images;
//הוכטל עוךסע ןמ ןנוהכמזוםטל
	$arr=explode(".",$text);
//וסכט ךאנעטםךא ענובףועס
$im='';
if($_GET['picture']!="no"){
	switch ($_GET['picture']) {
  case "po12":
  if(($id/2)==ceil($id/2)){
   //ןמהדנףזאול ךאנעטםךף (ךמןטנמגאםטו םו גסודהא נאבמעאוע ןנאגטכםמ ןמ‎עמלף ןנטץמהטעס הוכאע עאך...)
	$frt=@getimg($images[$id]);
//ןטרול ךאנעטםךף
$im='';
if(strlen($frt)>100){
	$fp = fopen ("../out/".$id.".jpg", "w+");
	fwrite ($fp, $frt);
	fclose ($fp);                               imgresize("../out/".$id.".jpg");

//ןמהדמעאגכטגאול עוד הכ גסעאגךט ךאנעטםךט
	$im='<img src="'.$id.'.jpg" alt="'.strip_tags($title).'" style="margin-right:5pt" align=left border="0">';
	}
//גבטנאול סכףקאיםמו ןנוהכמזוםטו (טח ןונגמי סוהלמי קאסעט עוךסעא)
	$r=rand(0,(ceil(count($arr)/2)));
//גסעאגכול עוד טחמבנאזוםט
	$arr[$r]=$im.$arr[$r];
	}
   //ןמהדנףזאול ךאנעטםךף (ךמןטנמגאםטו םו גסודהא נאבמעאוע ןנאגטכםמ ןמ‎עמלף ןנטץמהטעס הוכאע עאך...)
	$frt=@getimg($images[ceil($id*1.5)]);
//ןטרול ךאנעטםךף
$im='';
if(strlen($frt)>100){
	$fp = fopen ("../out/".$id.".jpg", "w+");
	fwrite ($fp, $frt);
	fclose ($fp);                                                  imgresize("../out/".$id.".jpg");
//ןמהדמעאגכטגאול עוד הכ גסעאגךט ךאנעטםךט
	$im='<img src="'.$id.'.jpg" alt="'.strip_tags($title).'" style="margin-right:5pt" align=left border="0">';    }
//גבטנאול סכףקאיםמו ןנוהכמזוםטו (טח ןונגמי סוהלמי קאסעט עוךסעא)
	$r=rand(0,(ceil(count($arr)/7)));
//גסעאגכול עוד טחמבנאזוםט
	$arr[$r]=$im.$arr[$r];
    break;
  case "po02":
   if(($id/2)==ceil($id/2)){
   //ןמהדנףזאול ךאנעטםךף (ךמןטנמגאםטו םו גסודהא נאבמעאוע ןנאגטכםמ ןמ‎עמלף ןנטץמהטעס הוכאע עאך...)
	$frt=@getimg($images[$id]);
//ןטרול ךאנעטםךף
$im='';
if(strlen($frt)>100){
	$fp = fopen ("../out/".$id.".jpg", "w+");
	fwrite ($fp, $frt);
	fclose ($fp);                                                  imgresize("../out/".$id.".jpg");

//ןמהדמעאגכטגאול עוד הכ גסעאגךט ךאנעטםךט
	$im='<img src="'.$id.'.jpg" alt="'.strip_tags($title).'" style="margin-right:5pt" align=left border="0">';    }
//גבטנאול סכףקאיםמו ןנוהכמזוםטו (טח ןונגמי סוהלמי קאסעט עוךסעא)
	$r=rand(0,(ceil(count($arr)/2)));
//גסעאגכול עוד טחמבנאזוםט
	$arr[$r]=$im.$arr[$r];
	}
	if(($id/3)!=ceil($id/3)){
   //ןמהדנףזאול ךאנעטםךף (ךמןטנמגאםטו םו גסודהא נאבמעאוע ןנאגטכםמ ןמ‎עמלף ןנטץמהטעס הוכאע עאך...)
	$frt=@getimg(ceil($images[$id-1]));
//ןטרול ךאנעטםךף
$im='';
if(strlen($frt)>100){
	$fp = fopen ("../out/".$id.".jpg", "w+");
	fwrite ($fp, $frt);
	fclose ($fp);                                  imgresize("../out/".$id.".jpg");
//ןמהדמעאגכטגאול עוד הכ גסעאגךט ךאנעטםךט
	$im='<img src="'.$id.'.jpg" alt="'.strip_tags($title).'" style="margin-right:5pt" align=left border="0">';
	}
//גבטנאול סכףקאיםמו ןנוהכמזוםטו (טח ןונגמי סוהלמי קאסעט עוךסעא)
	$r=rand(0,(ceil(count($arr)/7)));
//גסעאגכול עוד טחמבנאזוםט
	$arr[$r]=$im.$arr[$r];
	}
    break;
  case "po03":
  if(($id/2)==ceil($id/2)){
   //ןמהדנףזאול ךאנעטםךף (ךמןטנמגאםטו םו גסודהא נאבמעאוע ןנאגטכםמ ןמ‎עמלף ןנטץמהטעס הוכאע עאך...)
	$frt=@getimg($images[$id]);
//ןטרול ךאנעטםךף
$im='';
if(strlen($frt)>100){
	$fp = fopen ("../out/".$id.".jpg", "w+");
	fwrite ($fp, $frt);
	fclose ($fp);                                        imgresize("../out/".$id.".jpg");
//ןמהדמעאגכטגאול עוד הכ גסעאגךט ךאנעטםךט
}
	$im='<img src="'.$id.'.jpg" alt="'.strip_tags($title).'" style="margin-right:5pt" align=left border="0">';
//גבטנאול סכףקאיםמו ןנוהכמזוםטו (טח ןונגמי סוהלמי קאסעט עוךסעא)
	$r=rand(0,(ceil(count($arr)/2)));
//גסעאגכול עוד טחמבנאזוםט
	$arr[$r]=$im.$arr[$r];
	}
	if(($id/3)!=ceil($id/3)){
   //ןמהדנףזאול ךאנעטםךף (ךמןטנמגאםטו םו גסודהא נאבמעאוע ןנאגטכםמ ןמ‎עמלף ןנטץמהטעס הוכאע עאך...)
	$frt=@getimg(ceil($images[$id-1]));
//ןטרול ךאנעטםךף
$im='';
if(strlen($frt)>100){
	$fp = fopen ("../out/".$id.".jpg", "w+");
	fwrite ($fp, $frt);
	fclose ($fp);                                           imgresize("../out/".$id.".jpg");
//ןמהדמעאגכטגאול עוד הכ גסעאגךט ךאנעטםךט
	$im='<img src="'.$id.'.jpg" alt="'.strip_tags($title).'" style="margin-right:5pt" align=left border="0">';
	}
//גבטנאול סכףקאיםמו ןנוהכמזוםטו (טח ןונגמי סוהלמי קאסעט עוךסעא)
	$r=rand(0,(ceil(count($arr)/7)));
//גסעאגכול עוד טחמבנאזוםט
	$arr[$r]=$im.$arr[$r];
	}
    break;
  case "all":
//ןמהדנףזאול ךאנעטםךף (ךמןטנמגאםטו םו גסודהא נאבמעאוע ןנאגטכםמ ןמ‎עמלף ןנטץמהטעס הוכאע עאך...)
	$frt=@getimg($images[$id]);
//ןטרול ךאנעטםךף
$im='';
if(strlen($frt)>100){
	$fp = fopen ("../out/".$id.".jpg", "w+");
	fwrite ($fp, $frt);
	fclose ($fp);                                                       imgresize("../out/".$id.".jpg");
//ןמהדמעאגכטגאול עוד הכ גסעאגךט ךאנעטםךט
	$im='<img src="'.$id.'.jpg" alt="'.strip_tags($title).'" style="margin-right:5pt" align=left border="0">';
	}
//גבטנאול סכףקאיםמו ןנוהכמזוםטו (טח ןונגמי סוהלמי קאסעט עוךסעא)
	$r=rand(0,(ceil(count($arr)/7)));
//גסעאגכול עוד טחמבנאזוםט
	$arr[$r]=$im.$arr[$r];
    break;
  case "on2":
//ןמהדנףזאול ךאנעטםךף (ךמןטנמגאםטו םו גסודהא נאבמעאוע ןנאגטכםמ ןמ‎עמלף ןנטץמהטעס הוכאע עאך...)
	$frt=@getimg($images[ceil($id*0.5)]);
//ןטרול ךאנעטםךף
$im='';
if(strlen($frt)>100){
	$fp = fopen ("../out/".$id.".jpg", "w+");
	fwrite ($fp, $frt);
	fclose ($fp);                                                    imgresize("../out/".$id.".jpg");
//ןמהדמעאגכטגאול עוד הכ גסעאגךט ךאנעטםךט
	$im='<img src="'.$id.'.jpg" alt="'.strip_tags($title).'" style="margin-right:5pt" align=left border="0">';
	}
//גבטנאול סכףקאיםמו ןנוהכמזוםטו (טח ןונגמי סוהלמי קאסעט עוךסעא)
	$r=rand(0,(ceil(count($arr)/7)));
//גסעאגכול עוד טחמבנאזוםט
	$arr[$r]=$im.$arr[$r];
    break;
  case "on3":
//ןמהדנףזאול ךאנעטםךף (ךמןטנמגאםטו םו גסודהא נאבמעאוע ןנאגטכםמ ןמ‎עמלף ןנטץמהטעס הוכאע עאך...)
	$frt=@getimg($images[ceil($id*0.35)]);
//ןטרול ךאנעטםךף
$im='';
if(strlen($frt)>100){
	$fp = fopen ("../out/".$id.".jpg", "w+");
	fwrite ($fp, $frt);
	fclose ($fp);                                             imgresize("../out/".$id.".jpg");
//ןמהדמעאגכטגאול עוד הכ גסעאגךט ךאנעטםךט
	$im='<img src="'.$id.'.jpg" alt="'.strip_tags($title).'" style="margin-right:5pt" align=left border="0">';
	}
//גבטנאול סכףקאיםמו ןנוהכמזוםטו (טח ןונגמי סוהלמי קאסעט עוךסעא)
	$r=rand(0,(ceil(count($arr)/7)));
//גסעאגכול עוד טחמבנאזוםט
	$arr[$r]=$im.$arr[$r];
    break;
  case "po2":
//ןמהדנףזאול ךאנעטםךף (ךמןטנמגאםטו םו גסודהא נאבמעאוע ןנאגטכםמ ןמ‎עמלף ןנטץמהטעס הוכאע עאך...)
	$frt=@getimg($images[ceil($id)]);
//ןטרול ךאנעטםךף
$im='';
if(strlen($frt)>100){
	$fp = fopen ("../out/".$id.".jpg", "w+");
	fwrite ($fp, $frt);
	fclose ($fp);                                                   imgresize("../out/".$id.".jpg");
//ןמהדמעאגכטגאול עוד הכ גסעאגךט ךאנעטםךט
	$im='<img src="'.$id.'.jpg" alt="'.strip_tags($title).'" style="margin-right:5pt" align=left border="0">';
	}
//גבטנאול סכףקאיםמו ןנוהכמזוםטו (טח ןונגמי סוהלמי קאסעט עוךסעא)
	$r=rand(0,(ceil(count($arr)/7)));
//גסעאגכול עוד טחמבנאזוםט
	$arr[$r]=$im.$arr[$r];
//ןמהדנףזאול ךאנעטםךף (ךמןטנמגאםטו םו גסודהא נאבמעאוע ןנאגטכםמ ןמ‎עמלף ןנטץמהטעס הוכאע עאך...)
	$frt=@getimg($images[ceil($id*2)]);
//ןטרול ךאנעטםךף
$im='';
if(strlen($frt)>100){
	$fp = fopen ("../out/".$id.".jpg", "w+");
	fwrite ($fp, $frt);
	fclose ($fp);                                 imgresize("../out/".$id.".jpg");
//ןמהדמעאגכטגאול עוד הכ גסעאגךט ךאנעטםךט
	$im='<img src="'.$id.'.jpg" alt="'.strip_tags($title).'" style="margin-right:5pt" align=left border="0">';
	}
//גבטנאול סכףקאיםמו ןנוהכמזוםטו (טח ןונגמי סוהלמי קאסעט עוךסעא)
	$r=rand(0,(ceil(count($arr)/2)));
//גסעאגכול עוד טחמבנאזוםט
	$arr[$r]=$im.$arr[$r];

    break;
  case "no":

    break;
}
}
// גמחגנאשאול עוךסע
	return join(".",$arr);
}
//פףםךצט פמנלטנףוע לאססטג ךכ‏קוגץ סכמג
function keywords($text){
  $replace[] = '"';
  $replace[] = '!';
  $replace[] = "?";
  $replace[] = "'";
  $replace[] = ".";
  $replace[] = ",";
  $replace[] = "-";
  $replace[] = "\r";
  $replace[] = "\n";
  $replace[] = "\t";
$text=str_replace($replace," ",$text);
$tarr=explode(" ",$text);
foreach($tarr as $key=>$line){
	if(strlen($line)>3){
	$masst[$line]++;
	}
}
arsort($masst);

$tt=0;
foreach($masst as $key=>$line){
if($tt<20){
	$out[]=$key;
}
$tt++;
}
return unik($out);
}
//פףםךצט ףהאכוע הףבכטךאע ג לאססטגו ףקטעגא דנאללאעטךף
function unik($arr){
global $morphy;
		$arr2=array("י","צ","ף","ך","ו","ם","ד","ר","ש","ח","ץ","ת","פ","","ג","א","ן","נ","מ","כ","ה","ז","‎","","ק","ס","ל","ט","ע","","ב","‏");
	$arr1=array("ֹ","ײ","׃","","ֵ","ֽ","ֳ","״","","ַ","ױ","","װ","","ֲ","ְ","ֿ","׀","־","ֻ","ִ","ֶ","","","׳","ׁ","ּ","ָ","ׂ","","ֱ","");
	foreach($arr as $line){
		$line=str_replace(explode("|","י|צ|ף|ך|ו|ם|ד|ר|ש|ח|ץ|ת|פ||ג|א|ן|נ|מ|כ|ה|ז|‎||ק|ס|ל|ט|ע||ב|‏|¸"),explode("|","ֹ|ײ|׃||ֵ|ֽ|ֳ|״||ַ|ױ||װ||ֲ|ְ|ֿ|׀|־|ֻ|ִ|ֶ|||׳|ׁ|ּ|ָ|ׂ||ֱ||¨"),$line);
			if(false !== ($result =& $morphy->morph($line))) {
		$temparr= $result->getAllFormsWithGramInfo();
		}

		$base_form = str_replace($arr1,$arr2,$temparr[0]['forms'][0]);
		$tarr[$base_form[0]]=$base_form;
	}
	foreach($tarr as $line){
	if(strlen($line)>3){
		$ter[]=str_replace(explode("|","ֹ|ײ|׃||ֵ|ֽ|ֳ|״||ַ|ױ||װ||ֲ|ְ|ֿ|׀|־|ֻ|ִ|ֶ|||׳|ׁ|ּ|ָ|ׂ||ֱ||¨"),explode("|","י|צ|ף|ך|ו|ם|ד|ר|ש|ח|ץ|ת|פ||ג|א|ן|נ|מ|כ|ה|ז|‎||ק|ס|ל|ט|ע||ב|‏|¸"),$line);;
	}
	}
return $ter;
}

//////////////////////////////////////////////////////////////////////
//////////////////פףםךצטט אגעמןונוךמהטנמגךט ג windows 1251////////////
//////////////////////////////////////////////////////////////////////
function _charset_count_bad($s)
{ //count "bad" symbols in russian, in windows-1251
  $r=0;
  for($i=0;$i<strlen($s);$i++)
  {
    switch($s[$i])
    {
      case '¸':
      case '¨':
      case '«':
      case '»':
        break;
      default:
        $c=ord($s[$i]);
        if($c>=0x80&&$c<0xc0||$c<32)
          $r++;
    }
  }
  return $r;
}

function _charset_count_chars($s)
{ //count "good" symbols in russian, in windows-1251
  $r=0;
  for($i=0;$i<strlen($s);$i++)
  {
    $c=ord($s[$i]);
    if($c>=0xc0)
      $r++;
  }
  return $r;
}

function _charset_count_pairs($s)
{ //count "bad" pairs of chars for a string in russian, in windows-1251
  $a=array(
    0 => 'ת',
    1 => 'יןפ‎',
    2 => 'יפ‎',
    3 => 'זיןפץצשת‎‏',
    4 => 'יפש',
    5 => 'ת',
    6 => 'חיעפץרשת‎',
    7 => 'יןפץש',
    8 => 'ת',
    9 => 'אבזטיףשת‎‏',
    10 => 'בדיןפץשת‎‏',
    11 => 'ינצת‎',
    12 => 'הזחית',
    13 => 'ילןת',
    14 => 'ת',
    15 => 'בגדהזחיץשת‎‏',
    16 => 'ית‎',
    17 => 'י',
    18 => 'זי',
    19 => 'ת',
    20 => 'בגדהזחיךןץצרשת‎‏',
    21 => 'בזחיפץצקשת‏',
    22 => 'בדהזחיכםןנסעפץצקרשת‎‏',
    23 => 'בדהזחיןספץצקשת‎‏',
    24 => 'בדהזחיפץרשת‎',
    25 => 'בגדהזחיךכלןסעפץצקרשת‎‏',
    26 => 'אבגדהזחטיךכלםמןנסעףפץצקרשת‎',
    27 => 'אמפת‎‏',
    28 => 'איכנףץת‎',
    29 => 'אבוזטמףצקרשת‎‏',
    30 => 'טמףפת‎',
    31 => 'אמףפת‎'
    );
  $b=array(
    0  => 'אאאבאגאדאהאואזאחאטאיאךאכאםאמאסאעאףאפאץאצאקאראשא‎א‏אבדבלבעבץבצבקברבשבתבב‏בגבגזגץגתג‏דחדךדעדקדהההץה‎ואובודוווזוטומוןוסוףופוצושו‎ו‏וזבזגזכזןזנזצזקז‏חחחסחעחרח‎ח‏טאטוטזטטטיטמטןטףטפטצטרטשט‎ט‏טיןינךחךלךקךרכבכגכחכםכרכשלגלדלץלקל‎ל‏םבםגם‎מאמגמדמומזמחמטמימךמכמלמממןמףמפמץמצמרמשמ‎מ‏מןלןצנחסדסהסזסחסתס‎עבעדעהעחעןערעשעתע‎ףאףבףגףזףטףיףמףףףפףץףצףשף‏ףפכפלץדץהץךץןץסץרץ‎צגצלצףצקגקלקנקררנרסרקשםשנש‎ג‎ד‎ה‎ח‎י‎ך‎ל‎ם‎ן‎ע‎פ‎ץ‎‏א‏ב‏ג‏ד‏ה‏ו‏ז‏ח‏י‏כ‏ל‏ם‏ן‏נ‏ץ‏צ‏ר‏‏בדהוזחטיןנרש‏',
    1  => 'אאאזאמאןאפאשא‎באבבבגבדבהבזבחבךבכבלבםבסבעבףבץבצבקברבשבתבבב‏בגבגגגדגהגזגחגךגכגלגםגןגנגסגעגףגץגצגקגרגשגתגג‏גדאדבדגדדדהדודחדטדךדכדלדםדנדסדעדףדקדרדהבהגהדהההזהחהךהכהלהםהמהןהנהסהעהץהצהקהרהתההה‎ה‏ואובוןוףופו‎וזבזגזדזהזזזךזכזלזםזמזןזנזסזצזקזז‏חבחגחדחהחוחזחחחטחךחכחלחםחנחסחעחףחצחקחרחתחחח‎ח‏חטאט‎ךגךהךזךחךךךכךלךםךסךעךצךקךרכבכגכדכהכזכחכךכככלכםכןכסכעכפכץכקכרכשלבלגלדלךלכלללםלןלנלסלעלףלפלץלצלקלרלשללל‎ל‏םבםגםדםהםזםחםךםכםםםנםסםעםפםץםצםקםרםשםם‎מאמממפמץנבנגנדנהנזנחנךנכנלנםנןנננסנענפנץנצנקנרנשסבסגסדסהסזסחסלסםסןסנססספסץסקסרסשסתססס‎ס‏עאעבעגעדעהעחעטעךעכעלעםעןענעסעעעףעפעץעצעקערעשעתעעע‎ע‏ףמףףףצףשף‎ץדץהץוץטץךץכץלץםץןץנץסץעץףץרץ‎צגצטצךצלצףקגקוקךקכקלקםקמקנקעקףקרקרגרךרכרלרםרמרןרנרסרערףרצרקרר‏שמשנשת‏בדזטןנףצרבגדהזחךלםמןסעפצקרש‏א‏ב‏ג‏ד‏ו‏ז‏ח‏י‏ך‏ל‏ם‏ן‏ץ‏צ‏ק‏ר‏ש‏‏בגדהוזטיךםנסץצקר‏',
    2  => 'אאאמאףאפאשא‎באבבבגבדבהבזבחבךבלבםבסבעבץבצבקברבשבתבבב‏בגבגגגדגהגזגחגךגכגלגםגןגעגףגץגצגקגרגשגתגג‏דאדבדגדדדהדודחדטדךדלדםדסדעדקדרדהבהדהההזהחהךהכהלהםהןהסהעהץהצהקהרהתהה‎ה‏הואוטוףופו‎זאזבזגזדזהזוזזזךזכזלזםזמזןזנזסזףזצזקזז‏חוחזחחחךחסחעחףחצחקחרחח‎ח‏טףטפט‎ךגךהךזךחךךךלךסךעךצךקךרכבכגכדכהכזכחכךכככלכםכןכסכעכףכפכץכקכרכשכלבלגלדלךלכלללםלןלנלסלעלףלפלץלצלקלרלשלל‎ל‏םבםגםדםהםזםחםךםכםםםנםסםעםפםץםצםקםרםשםם‎מאמפמ‎ןךןלןםןןןסןעןפןצןקןרןןןנבנגנדנהנזנחנךנכנלנםנןנננסנענפנץנצנקנרנשננ‏סבסגסדסהסזסחסטסםסנססספסצסקסרסשסתסס‎עבעגעדעהעחעךעכעלעםעןעסעעעףעפעץעצעקערעשעתעע‎ע‏ףבףגףזףטףמףןףףףפףצף‎ץאץגץדץהץוץטץךץכץלץםץןץנץסץעץףץרץ‎צגצטצךצלקגקךקכקלקםקנקעקרקרגרךרכרלרםרןרנרסרערצרקרר‏שאשושםשמשנשףשת‏תשבגדהזחךלםמןפצקרש‏א‏ב‏ג‏ד‏ה‏ו‏ז‏ח‏י‏ך‏כ‏ל‏ם‏ן‏נ‏ס‏ע‏ץ‏צ‏ק‏ר‏ש‏‏בגדהוטיןנצקר‏',
    3  => 'אאאךאמאפארא‎בבבגבדבהבזבחבטבךבכבלבםבמבנבסבעבףבץבצבקברבשבתבבב‏בגבגגגדגהגזגחגךגכגלגםגןגנגסגעגףגץגצגקגרגשגתגגג‏גדאדבדגדדדהדחדךדכדלדםדמדנדסדעדףדקדרדהבהגהדהההזהחהטהךהכהלהםהןהנהסהעהףהץהצהקהרהתההה‎ה‏הואוגודוזוחוןוףוץוצוקורושו‎חבחגחדחהחוחזחחחטחךחכחלחםחמחנחסחעחףחצחקחרחתחחח‎ח‏חטזטףטפטצטשט‎ךגךהךוךזךחךךךכךלךםךנךסךעךצךקךרכבכגכדכהכזכחכךכככלכםכןכסכעכפכץכקכרכשכלבלגלדלטלךלכלללםלןלנלסלעלפלץלצלקלרלשלל‎ל‏לםבםגםדםהםזםחםךםכםםםנםסםעםפםץםצםקםרםשםםם‎מ‏נבנגנדנהנזנחנךנכנלנןנננסנענפנץנצנקנרנשנסאסבסגסדסהסוסזסחסטסכסלסםסןסנסססףספסץסצסקסרסשסתססס‎ס‏עאעבעגעדעהעחעךעכעלעםעןענעסעעעפעץעצעקערעשעתעעע‎ףגףדףחףטףיףךףמףןףףףפףצף‎ףקגקךקכקלקםקמקנקעקרקרארגרךרכרלרםרמרןרנרסרףרצרקרר‏בגדוזחטיךכםןנסעץצקרש‏',
    4  => 'אאאחאףאשא‎בבבגבדבהבזבחבךבכבלבםבסבעבףבץבצבקברבשבתבבב‏בגבגגגדגהגזגלגםגןגנגסגעגץגצגקגרגשגתגג‏גדבדגדדדהדודחדךדלדםדסדעדףדקדרדהבהדהההזהחהךהכהלהםהןהנהסהעהץהצהקהרהתההה‎ה‏הוףוץושו‎זבזגזדזהזזזךזכזלזםזןזנזסזצזקזז‏חבחגחדחהחזחחחךחכחלחנחסחעחצחקחרחתחחח‏חטדטץט‎ךגךהךזךחךךךלךםךסךעךצךקךרכבכגכדכהכזכחכךכככלכםכןכסכעכפכץכקכרכשככ‏לבלגלדלךלכלללןלנלסלעלפלץלצלקלרלשלל‎ל‏לםבםגםדםהםזםחםכםםםנםסםפםץםצםקםרםשםם‎מאמפמ‎מ‏מןוןךןלןםןןןסןעןפןצןקןרןןןנבנגנדנהנזנחנךנכנלנםנןנננענפנץנצנקנרנשנסבסדסהסזסחסםסנססספסץסצסרסשסתססס‎ס‏סעבעדעהעחעךעכעלעםעןעסעעעףעפעץעצעקערעשעתעעע‎ע‏ףהףחףפץדץהץטץךץכץלץםץןץנץסץעץףץרץ‎צגצטצךצלקגקךקכקלקםקמקנקעקרקרגרךרכרלרםרמרןרנרסרצרקרר‏חטףצגדהזחםמןספצקרש‎ד‎ה‎ח‎י‎כ‎ל‎ן‎ס‎ע‎פ‎ץ‎‏א‏ב‏ג‏ד‏ה‏ו‏כ‏ל‏ס‏ע‏ץ‏צ‏ק‏ש‏‏בגוזחךכןנצר‏',
    5  => 'אאאואזאחאטאיאמאןאנאסאףאפאץאצאקאראשא‎א‏אבבבגבדבהבזבחבץבצבקברבשבתגבגגגדגזגןגץגשגתג‏דבדגדדדחדעדרהדהץהצה‏ואובודוהוווזוטוכוםומוףופושו‎ו‏וזבזגזזזלזקז‏חסחצחרחתח‎טאטבטהטוטזטטטיטמטנטףטפטצטקטרטשט‎ט‏טיגימיץךזךחךךךלךקכהכזכחכןכפכץכרכשלגלנלפלץלרל‎ל‏םזםכםפם‎מאמומטמימףמקמרמ‏מןלןןןפנשסדסזסחסשסתס‎ס‏עדעהעחעןעפעצעשעתע‎ע‏ףאףטףיףמףףףפףצףרףשף‎פלפםפספקפץדץךץנץעץרצגצלצףקגקלקנקררגרלרןרנרצרקר‏שםשמ‎ג‎ד‎ה‎ח‎י‎כ‎ל‎ם‎ן‎נ‎ס‎ץ‎‏א‏ב‏ג‏ד‏ה‏ו‏ז‏ח‏י‏ך‏כ‏ל‏ם‏ן‏נ‏ץ‏צ‏ק‏ר‏‏בדוזחטיךןצקרש‏',
    6  => 'אאאבאחאטאמאןאףאפאצארא‎בבבגבדבהבזבחבךבכבלבםבנבסבעבץבצבקברבשבתבב‏בגבגגגדגהגוגזגחגטגךגכגלגםגמגןגנגסגעגףגץגצגקגרגשגתגגג‏גדבדגדדדהדודחדךדלדםדמדנדסדעדקדרדהבהגהדהההזהחהךהלהםהןהנהסהעהץהצהקהרהתה‎ואוזוטומוףוץו‎ו‏וזבזגזדזהזזזךזכזלזםזמזןזנזסזףזצזקזז‏טאטבטףטפט‎ךגךהךזךחךךךכךלךםךנךסךעךצךקךרכבכגכדכהכוכזכחכךכככלכםכמכןכסכעכףכפכץכקכרכשכככ‏כלאלבלגלדלךלכלללםלןלנלסלעלפלץלצלקלרלשללל‎ל‏לםבםגםדםהםזםחםךםכםםםנםסםעםפםץםצםקםרםשםם‎מאמבמגמהמזמטמכמממןמעמףמפמץמצמשמ‎מ‏מןאןוןטןךןלןםןמןןןנןסןעןףןפןצןקןרןןןנבנגנדנהנזנחנךנכנלנםנןנננסנענפנץנצנקנרנשנננ‏נסאסבסגסדסהסוסזסחסטסכסלסםסמסןסנסססעסףספסץסצסקסרסשסתססס‎ס‏סףבףגףדףהףחףלףמףןףףףפףצףרף‎צגצוצטצךצלצמקאקגקוקךקכקלקםקמקנקעקףקרקבגדהזחךלםמןפצקרש‏א‏ב‏ג‏ד‏ה‏ו‏ז‏ח‏י‏ך‏ל‏ם‏ן‏ס‏ע‏ץ‏צ‏ק‏ר‏ש‏‏',
    7  => 'א‎בבבגבדבהבזבחבךבלבםבסבעבץבצבקברבשבתבב‏בגבגגגדגהגזגחגלגןגסגעגץגצגקגרגשגתגג‏דבדגדדדהדחדךדלדסדעדקדרדהבהדהההזהחהכהלהןהסהעהץהצהקהרהתה‎ה‏ואודוהוזוחומוןוסוףוץוקושו‎זבזגזדזהזזזךזכזלזםזמזןזנזסזצזקזז‏חבחדחהחוחזחחחטחךחכחלחמחסחעחףחצחקחרחתחחח‎ח‏חטבטחטןטפטץטשט‎ךגךהךזךחךךךכךלךםךנךסךעךצךקךרכבכגכדכהכזכחכךכככלכםכןכסכעכפכץכקכרכשכלבלגלדלךלכלללנלסלעלפלץלצלקלרלשלל‎ל‏םבםגםדםהםזםחםךםכםםםנםסםעםפםץםצםקםרםשם‎מאמזמטמףמפמצמ‎מ‏מנבנגנדנהנזנחנךנכנלנםנןנננסנענפנץנצנקנרנשננ‏סאסבסגסדסהסוסזסחסטסכסלסםסמסןסנסססעסףספסץסצסקסרסשסתססס‎ס‏סעאעבעגעדעהעועחעךעכעלעםעןענעסעעעףעפעץעצעקערעשעתעע‎ע‏עףגףדףזףמףףףפףצףרף‎צגצוצטצךצלקאקגקךקכקלקםקמקנקעקרקרארגרורךרכרלרםרמרןרנרסרערףרצרקרר‏הזטכןעףרגדהזחטךםמןספצקרש‎ג‎ד‎ה‎ח‎י‎ך‎כ‎ל‎ן‎נ‎ס‎ע‎פ‎ץ‎‏א‏ב‏ג‏ד‏ה‏ו‏ז‏ח‏י‏ך‏כ‏ם‏ן‏נ‏ס‏ע‏ץ‏צ‏ק‏ר‏ש‏‏דהזחךןנסץצר‏',
    8  => 'אאאואזאטאיאמאףאץאקאשא‎א‏בגבדבזבחבלבעבץבצבקבשבתבגבגגגדגהגזגחגלגןגעגשגתג‏דבדגדדדךדסדקדהבהדהההכהןהץהקהרהתהה‎ואובוווזוטוךומוןוףופוקורושו‎ו‏וזבזגזדזזזכזלזןזנזצזקזז‏חחחעחצחח‎ח‏טאטבטגטדטהטוטזטחטטטיטךטכטםטמטןטעטףטפטץטצטקטרטשט‎ט‏טיגידיהיויחיךיכילימיניפיץיקירךהךזךחכבכדכזכחכלכםכןכעכפכץכקכרכשלנלעלץלרלשלל‎ל‏םכםנםרםשם‎מומזמטמימממףמפמצמקמרמשמ‏מןלןפןצןקןנדנחנפנץנצנשנסבסדסזסחסנספסשסתס‎עבעדעהעחעןעפעץערעשעתע‏ףאףבףגףוףזףחףטףיףמףנףףףפףץףצףרףשף‎ף‏ףפכפםפקץדץהץךץלץעץרץ‎צגצלקגקכקלקנקררגרןרנרסרערצרקר‏שמש‎ג‎ד‎ה‎ח‎י‎ך‎כ‎ל‎ם‎ן‎נ‎ס‎פ‎ץ‎‏א‏ב‏ג‏ד‏ה‏ו‏ז‏ח‏י‏ך‏ל‏נ‏ס‏ץ‏צ‏ק‏ר‏‏בדהטיךנסצקרש',
    9  => 'גבגגגדגהגוגזגחגטגךגכגלגםגןגנגסגעגףגץגצגקגרגשגתגגג‏גדבדגדדדהדודחדטדךדכדלדםדמדנדסדעדףדקדרדהבהגהדהההחהךהכהלהםהןהנהסהץהצהקהרהתההה‎ה‏ואובוגודוהוווזוחוטויוךולומוןוסועוףופוץוצוקורושו‎ו‏וחבחגחדחהחזחחחטחךחכחלחםחמחנחסחעחףחצחקחרחתחחח‎ח‏חךגךהךזךחךךךלךםךנךעךצךקךרכבכגכדכהכזכךכככלכםכןכסכעכפכץכקכרכשככ‏כלבלגלדלךלללםלןלנלעלפלץלצלקלרלשלל‎ל‏לםבםגםדםהםזםחםךםכםםםנםסםעםפםץםצםקםשםם‎מאמבמומזמטמימכמלמממןמסמףמפמץמצמקמרמשמ‎מ‏מןאןטןךןכןלןםןמןןןנןסןעןףןצןקןרןןןנאנבנגנדנהנונזנחנטנךנכנלנםנןנננסנענףנפנץנצנקנרנשנננ‏נסגסדסהסוסזסחסכסםסןסנססספסץסצסקסרסשסתסס‎ס‏עבעגעדעהעחעךעכעלעםעןעעעפעץעצעקערעשעתעעע‎ע‏עפכפלפםפנפספעפפפקפץגץדץהץוץטץךץכץלץםץמץןץנץסץעץףץרץ‎צגצטצךצלקגקוקךקכקלקםקמקנקעקףקרקרגרךרכרלרםרמרןרנרסרערצרקרר‏',
    10 => 'אאאשא‎גבגגגדגהגזגחגךגכגלגםגןגנגסגעגץגצגקגרגשגתגג‏גהאהבהגהדהההוהזהחהטהךהכהלהםהןהנהסהעהףהץהצהקהרהתההה‎ה‏הובודוזוטומוףופוץוצוקורושו‎ו‏וזאזבזגזדזהזזזטזךזכזלזםזמזןזנזסזףזצזקזז‏חבחגחדחהחזחחחךחכחלחםחנחסחעחףחצחקחרחתחחח‎ח‏חטדטזטצטשט‎ט‏ךגךהךזךחךךךכךלךםךנךסךעךצךקךרכבכגכדכהכזכחכךכככלכםכןכסכעכפכץכקכרכשלבלגלדלטלךלכלללםלמלןלנלסלעלףלפלץלצלקלרלשללל‎ל‏לםבםגםדםהםזםחםךםכםםםנםסםעםפםץםצםקםרםשםם‎ם‏מאמצנבנגנדנהנזנחנךנכנלנםנןנננסנענפנץנצנקנשנסבסהסזסחסכסלסנסססץסקסשסתסס‎ס‏עבעגעדעהעחעךעכעלעןעסעעעפעץעצעקערעשעתעע‎ע‏ףאףדףזףיףמףפףצף‎צאצגצךצלצמצףצקאקגקטקךקכקלקםקמקנקעקףקרקרגרךרכרלרםרמרןרנרסרערצרקרר‏',
    11 => 'אאאמאפא‎בבבגבדבהבזבחבךבכבלבסבעבץבקברבשבתבב‏בגבגגגדגהגזגחגלגןגנגעגףגץגצגקגרגשגתגגג‏גדבדגדדדהדחדךדכדלדםדסדעדקדרדהבהגהדהההזהחהךהכהלהןהנהעהץהצהקהרהתהה‎הואזבזגזדזהזזזךזכזלזמזןזנזסזףזצזקזז‏חבחגחדחהחזחחחטחלחמחנחסחצחקחרחתחחח‎ח‏חטףט‎ךהךזךחךךךלךסךעךצךקךרכבכגכדכהכזכחכךכככלכםכןכעכפכץכקכרכשלבלגלדלךלכלללםלןלנלעלףלפלץלצלקלרלשלל‎ל‏לםבםגםדםהםזםחםךםכםםםנםסםעםפםץםקםרםשםם‎ם‏מ‎מ‏ןךןכןלןםןןןנןסןעןפןצןקןרןסבסגסדסהסזסחסכסלסםסןסנססספסץסצסקסרסשסתססס‎ס‏עבעגעדעהעחעטעךעכעלעםעןענעסעעעפעץעצעקערעשעתעע‎ע‏עףשפטפכפלפםפמפנפספעפףפפפקפץאץדץהץוץךץכץלץםץןץנץסץעץףץרץ‎קגקכקלקנקעקררארגרטרךרכרלרםרמרןרנרסרערףרצרקרר‏שםשמשנשףשדהחטנףצ‏א‏ד‏ו‏יבט',
    12 => 'אאאבאמאןאףאשבבבגבדבהבזבחבךבלבםבסבעבץבצבקברבשבתבב‏בגבגגגדגוגזגחגטגךגכגלגםגןגנגסגעגףגץגצגקגרגשגתגגג‏גדאדבדגדדדהדודחדטדךדלדמדנדסדעדףדקדרדואוןוףו‎טאטבטזטשט‎ךגךהךזךחךךךכךלךנךסךעךצךקךרכבכגכדכהכזכחכךכככלכמכןכסכעכףכפכץכקכרכשככלבלגלדלךלכלןלנלסלעלפלץלצלקלרלשלל‎ל‏לםבםגםדםהםזםחםךםכםםםנםסםעםפםץםצםקםרםשםם‎מאןךןלןםןןןסןפןצןקןנבנגנדנהנזנחנךנכנלנםנמנןנננסנענפנץנצנקנרנשנננ‏נסבסגסדסהסזסחסכסלסםסןסנססספסץסצסקסרסשסתסס‎ס‏עאעבעגעדעהעחעךעכעלעםעמעןענעסעעעףעפעץעצעקערעשעתעעע‎ע‏עףבףגףוףטףיףמףףףצף‎ףפכפלפםפנפספעפפפקפץאץגץדץהץוץטץךץכץלץםץןץנץסץעץףץרץ‎צגצטצךצלצמקגקךקכקלקםקמקנקעקרקרארגרךרכרלרםרמרןרנרסרערףרצרקרר‏שאשםשמשנשףשבהזחטןנףצשבגדזחךלםמןפצקרש‎ג‎ד‎ה‎ח‎י‎ך‎כ‎ל‎ן‎ס‎ע‎פ‎ץ‎‏א‏ב‏ג‏ד‏ה‏ו‏ז‏ח‏י‏ך‏ל‏ן‏נ‏ס‏ע‏ץ‏צ‏ק‏ר‏ש‏‏בהוזחיןנץצ‏',
    13 => 'אאאפא‎בבבגבדבהבזבחבטבךבכבלבםבמבנבסבעבץבצבקברבשבתבבב‏בגבגגגדגהגזגחגךגכגלגםגןגנגסגעגץגצגקגרגשגתגגג‏גדבדדדחדךדלדםדקדרדהבהגהדהההחהךהןהקהתהה‎הושזבזגזדזהזזזךזכזלזםזמזןזנזסזצזקזז‏חבחגחדחהחזחחחךחכחלחםחנחסחעחצחקחרחתחח‎ח‏חטףט‎ךהךזךחךךךלךסךקךרכאכבכגכדכהכוכזכחכךכככלכםכמכןכסכעכףכפכץכקכרכשכככ‏כםבםגםדםהםזםחםךםכםםםנםסםפםץםצםקםרםשםם‎משנבנגנדנהנזנחנךנכנלנםנןנננסנענףנפנץנצנקנרנשנננ‏נסדסהסזסחסנסץסקסרסשסתסס‎ס‏סעבעגעהעחעלעןעעעפעץעצעקערעשעתעע‎ףבףדףחףטףמףןףףףפףץףצף‎פלפםפספעפפפקפץאץגץדץהץטץךץכץלץםץןץסץעץףץרץ‎צגצךצלקגקךקכקלקםקנקעקרקרגרורךרכרלרםרמרןרנרסרףרצרקרר‏שאשושםשמשנשףשבדהזחטךסףצשבגהחלםןפצקש‎ג‎ד‎ה‎ח‎י‎ך‎כ‎ל‎ם‎נ‎ס‎ע‎פ‎ץ‎‏ב‏ג‏ד‏ו‏ז‏ח‏י‏ך‏כ‏ל‏ם‏נ‏צבהןנצ',
    14 => 'אאאבאגאדאהאואזאטאיאכאלאמאףאפאץאצאקאראשא‎א‏אבצב‏גהגזגץגתג‏דגדדדחדךדסדקדרדה‎ה‏ואובוווטונוףופושו‎וזבזגזכזןזנזסזקז‏חסחעחצחקחרחתח‎ח‏טאטבטוטזטטטיטמטןטףטפט‎ט‏טיגידיויחיןיניפיץירךהךזךלךצךקכפלגלדלץלרלשל‎ל‏םץםרם‎מאמגמדמומזמחמטמימכמלמףמפמרמ‎מ‏מןלןפןרסדסחסשס‎ע‎ע‏ףאףוףזףטףיףמףנףףףפףצףרףשף‏ףפלפםפעפקץדץהץךץןץסץ‎צףצקלקנקררנרסרצרקשמ‎ה‎י‎ן‎ס‎ץ‎‏א‏ב‏ג‏ד‏ז‏י‏ך‏כ‏ל‏ם‏ן‏נ‏ץ‏צ‏ק‏רדוטןצקר‏',
    15 => 'אאאמא‎ואובוטולוףופו‎וטבטףטפט‎ךגךהךזךחךךךכךלךםךנךסךעךצךקךרכבכגכדכהכזכחכךכככלכםכןכסכעכפכץכקכרכשלאלבלגלדלולךלכלללםלמלןלנלסלעלףלפלץלצלקלרלשללל‎ל‏לםבםגםדםהםזםחםךםכםםםנםסםעםפםץםצםקםרםשםם‎ם‏מאןלןןןנןסןעןפןצןקןרןןנבנגנדנהנזנחנךנכנלנםנןנננסנענפנץנצנקנרנשננ‏סבסגסדסהסזסחסכסלסםסןסנססספסץסצסקסרסשסתסס‎ס‏סעבעגעדעהעחעךעכעלעםעןענעסעעעפעץעצעקערעשעתעע‎ע‏עףגףוףזףטףיףלףמףףףפףצף‎ףפופכפלפםפמפספעפףפפפקפצאצגצוצךצלצמקגקךקכקלקםקמקנקעקףקרקרארגרךרכרלרםרמרןרנרסרערצרקרר‏בהחטךםןסףצקבגדהזחטךלםמןסעפצקרשבגדהוזחטיךלםןנצקר‏',
    16 => 'א‎בבבגבדבהבזבחבךבלבעבץבצבקברבשבתבבבגבגגגדגהגזגחגךגכגלגןגנגסגעגץגצגקגרגשגתדבדגדדדהדחדךדלדעדקדהבהגהדהההחהךהכהןהנהעהץהקהרהתהה‎ו‎זבזגזדזזזכזלזמזןזנזסזקזז‏חבחגחדחהחזחחחלחנחסחעחףחצחקחרחתחחח‎ח‏חט‎ךהךזךחךךךלךנךצךקךרכבכגכדכהכזכךכככלכםכןכסכעכפכץכקכרכשכ‏לבלגלדלךלללםלןלנלסלעלפלץלצלרלשלל‎ל‏םגםדםהםזםחםךםכםםםנםעםפםץםצםקםרםשםם‎ןךןלןןןסןעןפןצןקןרןנבנגנדנהנזנחנךנכנלנםנןנננסנענפנץנצנקנרנשנננ‏נסבסגסדסהסזסחסכסלסםסנססספסץסצסקסרסשסתסס‎ס‏עבעדעהעןעעעץעצעקערעשעתע‎ע‏ףגףמףףףצף‎פכפלפנפספעפףפפפקפץגץדץכץנץעץרצגצךצלקגקךקלקםקמקנקעקרקרגרכרלרןרסרערצרקרר‏שאשםשמשנשףשטנףגהזחםמןפצקרש‏א‏ב‏ג‏ה‏ו‏ז‏י‏ן‏נ‏צ‏‏טנצ',
    17 => 'אאאחאטאמאשבבבגבדבהבזבחבךבלבםבסבעבףבץבצבקברבשבתבבגבגגגדגהגזגחגךגכגלגםגןגסגעגץגצגקגרגשגתגג‏דאדבדגדדדהדחדךדלדסדעדקדרדהבהדהההזהחהךהכהלהםהןהסהעהץהצהקהרהתההה‎ה‏הוזופו‎זבזגזדזהזזזךזכזלזםזמזןזנזסזףזצזקזז‏חבחגחדחהחוחזחחחטחךחכחלחםחמחנחסחעחףחצחקחרחתחחח‎ח‏חטףטשט‎ךהךזךחךךךלךעךצךקךרכבכגכדכהכזכחכךכככלכםכןכסכעכפכץכקכרכשלבלגלדלךלכלללםלןלעלפלץלצלקלרלשלל‎ל‏םבםגםהםזםחםךםכםםםנםסםעםפםץםצםקםרםשםם‎מאמ‎מןךןלןםןןןסןעןפןצןקןרןנבנגנדנהנזנחנךנכנלנםנןנננסנענפנץנצנקנרנשננ‏נסבסדסהסזסחססספסץסצסרסשסתסס‎ס‏עהעחעןעעעפעץערעשעתףףףצפכפלפםפנפספעפףפפפקפץדץהץךץלץםץןץסץעץרץ‎צךצלצףצקגקךקלקםקמקנקעקרקרגרךרכרלרםרןרנרסרצרקרר‏שאשטשםשמשנשףשת‏בהזחטךףצקרגדהזחטםמןספצקרש‎ג‎ד‎ה‎ח‎י‎כ‎ן‎ס‎ע‎פ‎ץ‎‏א‏ב‏ג‏ד‏ו‏ח‏י‏ל‏ם‏ן‏ע‏ץ‏צ‏ק‏ש‏‏בגטיכןנר‏',
    18 => 'אאאמא‎בבבגבדבהבובזבחבךבלבםבסבעבץבצבקברבשבתבב‏בגבגגגדגהגזגחגךגלגםגןגסגעגץגצגקגרגשגתגג‏דבדגדדדהדחדטדךדכדלדםדסדעדףדקדרדהבהגהדהההזהחהךהכהלהםהןהנהסהעהףהץהצהקהרהתהה‎ה‏הוףו‎חבחדחהחוחזחחחטחךחכחלחםחנחסחעחףחצחקחרחתחח‎ח‏חךגךהךזךחךךךלךעךצךקךרכבכגכדכהכזכךכככלכםכןכסכעכפכץכקכרכשלבלגלדלךלכלללםלןלנלסלעלפלץלצלקלרלל‎ל‏לםבםגםדםהםזםחםךםכםםםנםסםעםפםץםצםקםרםשםם‎ןךןלןםןןןסןעןפןצןקןרןןןנבנגנדנהנזנחנךנכנלנםנןנסנענפנץנצנקנרנשסבסדסהסזסחסןססספסץסצסרסשסתסס‎עבעגעדעהעחעךעכעלעןעסעעעפעץעצעקערעשעתעעע‎ע‏ףגףףפאפכפלפםפנפספעפפפקפץדץהץוץךץלץםץןץנץסץעץרץ‎צגצטצךצלקגקךקכקלקםקמקנקעקרקרךרלרםרמרןרנרסרצרקרר‏שםשמשנשףשת‏תבזחטעףצגדזחםמןצקרש‎ג‎ד‎ה‎ח‎י‎כ‎ל‎ן‎נ‎ס‎ע‎פ‎ץ‎‏ב‏ג‏ד‏ה‏ו‏ז‏ח‏י‏ם‏ן‏ס‏ע‏ץ‏צ‏ק‏ש‏‏הוטכנק‏',
    19 => 'אאאבאגאדאואזאטאךאלאמאןאףאפאץאקאראשא‎א‏אבגבדבהבחבלבעבץברבשב‏גבגגגדגהגזגחגלגןגנגעגףגץגצגקגשגתג‏דבדגדהדחדךדלדסדעדקדרדהבהדהןהץהצהקהתה‎ואובודוווזוטוךוכוםומוןוףופוצוקושו‎ו‏וזגזדזלזןזנזצז‏חבחדחזחחחעחצחרחתח‎ח‏חטאטבטגטדטוטזטטטיטלטמטןטףטפטץטקטרטשט‎ט‏טידיויחיכימיןיניפיץיצירךהךזךחךקךרכבכדכזכחכלכםכןכעכץכקכרכשלגלדלןלעלץלרלשל‎ל‏םבםגםזםחםכםנםפםץםקםשם‎ם‏םמאמגמדמומזמטמימכמלמםמממןמףמפמץמצמקמרמשמ‎מ‏מןלןסןעןפןרנחנפנץנשסבסדסהסזסחספסץסצסקסרסשסתס‎ס‏עדעהעחעלעןעפעץעצערעשעתע‎ףאףבףגףדףהףוףזףחףטףיףךףםףמףןףנףסףעףףףפףץףצףקףרףשף‎ף‏ףפאפלפםפמפנפספעפקפץהץנץ‎צאצגצלצמצףצקגרגרלרןרנרסרערצר‏שנש‎ג‎ד‎ה‎ח‎י‎ך‎ל‎ן‎פ‎ץ‎‏א‏ב‏ג‏ד‏ה‏ו‏ז‏ח‏י‏ך‏כ‏ל‏ם‏ן‏נ‏ץ‏צ‏ק‏ר‏‏בדהוזטיךםןנעץצקרש‏',
    20 => 'אאאהאואזאטאמאןאפאצאקאשא‎א‏אואובודוזוחוןוףופוצוקושו‎ו‏טגטזטףטפטץטשט‎כבכגכדכהכזכחכךכככלכםכסכעכפכץכקכרכשככלבלגלדלטלךלכלללםלןלנלסלעלפלץלצלקלרלשלל‎ל‏לםאםבםגםדםהםוםזםחםטםךםכםםםמםנםסםעםףםפםץםצםקםרםשםם‎ם‏םמאמומזמחמטמממןמףמפמץמצמקמרמשמ‎מ‏מנבנגנהנזנחנךנכנלנםנןנננסנענפנץנצנקנרנשננ‏נסאסבסגסדסהסזסחסטסכסלסםסןסנסססףספסץסצסקסרסשסתססס‎ס‏סעבעגעדעהעחעךעכעלעםעןענעסעעעפעץעצעקערעשעתע‎ע‏ףאףבףגףהףוףזףטףיףךףכףלףמףןףסףףףפףץףקףרףשף‎ףפכפלפםפנפספעפפפקפקאקגקוקךקכקלקםקמקנקעקףקרקבדהוזחטיךכלםןסעףץצקרש',
    21 => 'אאאדאחאפאצאקאראשגבגגגדגהגוגזגחגטגךגכגלגםגןגנגסגעגףגץגצגקגרגשגתגגג‏גדבדגדדדהדודחדטדךדכדלדםדנדסדעדףדקדרדהאהבהגהדהההוהזהחהטהךהכהלהןהנהסהעהףהץהצהקהרהתההה‎ה‏הואובודוהוווזוחוטוךוכוןוסועוףופוץוצוקושו‎ו‏וטןטףטפטצטרט‎ךאךגךהךוךזךחךטךךךכךלךםךסךעךףךצךקךרכבכגכדכהכזכחכךכככלכםכןכסכעכפכץכקכרכשכלבלגלדלךלכלםלןלנלסלעלפלץלצלקלרלשלל‎ל‏לםבםגםדםהםזםחםךםכםםםנםסםעםפםץםצםקםרםשםםם‎מטמממצמרמ‎מ‏מןוןטןךןכןלןםןןןסןעןףןפןצןקןרןןןנבנגנדנהנזנחנךנכנלנםנןנננסנענפנץנצנקנרנשננסאסבסגסדסהסזסחסכסלסםסןסנסססףספסץסצסקסרסשסתססס‎ס‏עבעגעדעהעחעךעכעלעםעןענעסעעעפעץעצעקערעשעתעע‎ע‏ףבףגףדףחףטףיףלףםףמףסףףףפףץףצףקףשף‎ףרארגרךרכרלרםרןרנרסרערףרצרקרר‏‎ג‎ד‎ה‎ח‎י‎ם‎נ‎ס‎פ‎ץ‎',
    22 => 'אאאבאגאדאהאזאחאטאיאךאמאסאףאפאצאקאראשא‎גאגבגגגדגהגזגחגךגכגלגםגמגןגנגסגעגףגץגצגקגרגשגתגגג‏גואובוזוטופוצוקורושו‎וטבטדטזטףטץטצטקטרטשט‎ךגךהךזךחךךךכךלךםךנךסךעךצךקךרלבלגלדלולטלךלכלללםלמלןלנלסלעלףלפלץלצלקלרלשללל‎ל‏למאמבמהמומזמחמטמכמםמממןמסמעמףמפמץמצמקמרמשמ‎מ‏מףאףבףגףדףהףוףטףךףכףלףמףןףנףסףעףףףפףץףצףקףרףשף‎ףבגהזחטךכםנסעףץצקרש',
    23 => 'אאאבאחאמאןאףאפאצאקא‎גבגגגדגהגזגחגטגךגכגלגםגןגנגסגעגץגצגקגרגשגתגג‏גואוזומוףופוצושו‏טבטהטזטחטמטןטףטפט‎ךגךהךזךחךךךכךלךםךנךסךעךצךקךרכבכגכדכהכזכחכךכככלכםכןכסכעכףכפכץכקכרכשכככ‏כלבלגלדלולטלךלכלללםלןלנלסלעלףלפלץלצלקלרלשלל‎ל‏לםבםגםדםהםזםחםךםכםםםנםסםעםפםץםצםקםרםשםם‎ם‏מאמבמגמדמהמומזמחמטמכמממנמסמעמףמפמץמצמרמשמ‎מ‏מנאנבנגנדנהנזנחנטנךנכנלנםנמנןנננסנענףנפנץנצנקנרנשנננ‏נעבעגעדעהעחעךעכעלעםעןענעסעעעפעץעצעקערעשעתעע‎ע‏ףאףוףחףטףיףךףמףףףפףצףקף‎רגרךרכרלרםרמרןרנרסרערצרקרר‏בגדהזחךלםמןפצקרש',
    24 => 'אאאחאטאמאףאצא‎גבגגגדגהגזגחגךגכגלגםגמגןגנגסגעגףגץגצגקגרגשגתגג‏גואוזומוצושו‎טאטדטהטזטחטטטמטףטצטקט‎ךהךזךחךךךכךלךםךנךסךעךצךקךרכבכגכדכהכזכחכךכככלכםכןכסכעכףכפכץכקכרכשכלבלגלדלולךלכלללםלמלןלנלסלעלףלפלץלצלקלרלשלל‎ל‏םבםגםדםהםזםחםךםכםםםנםסםפםץםצםקםרםשםם‎מאמהמזמחמטמממץמצמקמרמשמ‎מ‏מןוןךןכןלןםןןןסןעןףןפןצןקןרןןןנאנבנגנדנהנונזנחנךנכנלנםנמנןנננסנענפנץנצנקנרנשנננ‏נסאסבסגסדסהסוסזסחסטסכסלסםסמסןסנסססעסףספסץסצסקסרסשסתססס‎ס‏סעבעגעדעהעחעךעכעלעםעןעסעעעפעץעצעקערעשעתעע‎ע‏עףגףדףהףזףחףטףךףםףמףןףףףפףץףצף‎ףצאצגצטצךצלצמצףקגקוקטקךקכקלקםקמקנקעקףקרקבגדהוזחךלםמןפצקרש‏א‏ב‏ג‏ד‏ה‏ו‏ז‏ח‏י‏ך‏כ‏ל‏ם‏ן‏ס‏ץ‏צ‏ק‏ר‏ש‏‏',
    25 => 'אאאבאזאחאטאמאןאנאףאפאצאקאראשא‎ואוחוףוץוצושו‎ו‏וטאטבטדטהטזטחטטטמטנטסטףטפט‎ט‏טםבםגםדםהםזםחםךםכםםםנםסםעםפםץםצםקםרםשםם‎ם‏םמאמגמהמומזמחמטמימךמכמםמממןמנמסמעמףמפמץמצמקמרמשמ‎מ‏מנאנבנגנדנהנזנחנךנכנלנםנמנןנננסנענףנפנץנצנקנרנשנננ‏ףאףבףגףדףהףוףזףחףטףיףךףכףלףמףףףפףץףצףקףרף‎ףבגדהוזחטךלםמןסעפצקרש',
    26 => 'ואובוגודוווטויוםומוןועוףופוצוקושו‎ו‏ו‏א‏ב‏ג‏ד‏ה‏ו‏ז‏ח‏י‏ך‏כ‏ל‏ן‏נ‏ס‏ץ‏צ‏ק‏ר‏ש‏‏בדהוזטיךלןץצקרש‏',
    27 => 'בבבגבדבהבזבחבלבסבעבץבצבקברבשבתב‏בגבגגגדגהגזגחגכגלגןגנגסגעגץגצגשגתגג‏גדבדגדדדהדודחדךדלדסדעדףדקדרהבהדהההזהחהךהלהןהסהעהץהצהקהרהתההה‎ה‏הואובוגודוווזוטויוךוכוםומוןונוסועוףופוצוקורושו‎ו‏וזבזגזכזלזןזנזסזףזצזקזז‏חבחהחזחחחטחךחלחנחסחצחקחרחתחח‎ח‏חטאטבטגטהטוטזטחטטטיטךטכטלטםטמטןטנטעטףטפטץטצטקטרטשט‎ט‏טיגידיויחיךיכיליםימיניסיפיץיציקירךהךזךחךךךלךסךעךצךקכבכגכדכזכחכככלכםכןכעכפכץכקכרכשכ‏לגלדלכלללםלנלעלפלץלצלרלשלל‎ל‏םבםגםדםהםזםחםכםנםעםפםץםצםרםשם‎ןלןןןסןעןפןצןרןנבנדנהנזנחנכנלנןנננסנענפנץנצנקנשסבסדסהסזסחסםסנססספסצסשסתס‎ס‏עבעדעהעחעלעןעעעפעץעצעקערעשעתע‎ע‏ףאףבףגףדףוףחףטףיףךףכףלףםףמףןףנףסףעףףףפףץףצףרףשף‎ף‏ףץדץהץךץלץןץנץסץףץרץ‎צטצךצלצמצףצקגקלקנקעקרקרלרןרנרסרערקר‏שאשםשמשנשבדהוזחטיךכלםןנעץצקרש‏',
    28 => 'בבבגבדבהבזבחבךבכבלבםבנבסבעבץבצבקברבשבתבב‏בגבגגגדגהגזגחגךגכגלגםגןגנגסגעגףגץגצגקגרגשגתגג‏גדבדגדדדהדחדךדכדלדםדנדסדעדקדרדהבהגהדהההזהחהטהךהכהלהםהןהנהעהףהץהצהקהתההה‎ה‏הואובוווזוטוכוםומוףוץוצוקושו‎ו‏וזבזגזדזהזזזטזךזכזלזםזמזןזנזסזףזצזקזז‏חבחדחהחזחחחכחלחנחסחעחצחקחרחתח‎ח‏טאטבטגטדטהטוטזטחטטטיטךטכטםטמטןטסטעטףטפטקטשט‎ט‏טךגךהךזךחךךךלךנךעךצךקךרלבלגלדלךלכלללםלןלנלסלעלפלץלצלקלרלשלל‎ל‏םבםגםדםהםזםחםךםכםםםנםסםעםפםץםצםקםרםשםם‎מאמבמגמדמהמומזמחמטמימךמכמלמממןמסמףמפמץמצמקמרמשמ‎מ‏מןךןכןלןםןמןןןנןסןףןפןצןקןרןןןסגסדסהסוסזסחסכסלסםסןסנססספסץסצסקסרסשסתסס‎ס‏עבעגעדעהעחעךעכעלעןעסעעעפעץעצעקערעשעתעע‎ע‏עפופכפלפםפספעפפפקצגצךצלקגקךקכקלקםקנקעקרקרגרךרכרלרםרןרנרסרערצרקרר‏שםשמשנש‏א‏ב‏ג‏ד‏ה‏ו‏ז‏י‏כ‏ל‏ם‏ן‏נ‏ץ‏צ‏ק‏ר‏‏בהוזחטיכןסעצקרש',
    29 => 'גבגגגדגהגזגחגךגכגםגןגסגעגףגץגצגקגרגשגתגגג‏גדאדבדגדדדהדחדטדךדכדלדםדנדסדעדףדקדרדהבהזהחהךהכהםהמהןהנהסהעהףהץהצהקהרהתההה‎ה‏החאחבחגחדחהחזחחחךחכחלחםחנחסחעחףחצחקחרחתחחח‎ח‏חיגידיהיויחיךילימיןיניעיץיציקירךהךוךזךךךכךלךםךעךצךקךרכבכגכדכהכזכחכךכםכמכןכסכעכפכץכקכרכשככ‏כלגלדלךלכלםלנלסלעלפלץלצלקלרלשללל‎ל‏לםאםבםזםחםךםכםנםףםפםץםקםרםשםםם‎ם‏םןאןוןךןכןלןםןנןסןעןףןפןצןקןרןןןנבנדנהנזנךנלנןנננפנץנצנקנרנשננ‏נסאסבסגסדסהסוסזסחסטסכסלסםסמסןסנסססףספסצסקסרסשסתססס‎ס‏סעבעגעדעהעחעכעלעןעסעעעפעץעצעקערעשעתעע‎ע‏עפאפכפלפםפמפנפספעפףפקפץגץדץהץוץטץךץכץלץןץנץסץעץףץרץ‎בגדהוזחטיכלםןנסעץצקרש‏',
    30 => 'אאאבאגאדאהאואזאחאטאיאךאכאלאמאןאסאעאףאפאץאצאקאראשא‎א‏אבבבדבהבזבחבלבנבסבעבץבצבקברבשבתבב‏גאגבגגגדגהגזגחגךגכגלגםגןגנגסגעגףגץגצגקגרגשגתגג‏גדבדגדדדהדחדטדךדכדלדםדנדסדעדףדקדרדהבהגהדהההחהךהכהלהןהנהעהץהקהרהתהה‎ה‏ואובוגודוהוווזוחוטויוךוכוםומוןונוסוףופוץוצוקורושו‎ו‏וזבזגזדזהזזזךזכזלזמזןזנזסזףזצזקזז‏חבחגחהחחחךחכחלחנחסחעחצחקחרחתחח‎ח‏חיגידיהיויחיךיכיםימיןיניסיעיפיץיציקירךהךזךחךךךכךלךנךעךצךקךרכאכבכגכדכהכזכחכךכלכםכמכןכסכעכףכפכץכקכרכשכלבלגלדלכלללםלןלנלסלעלףלפלץלצלקלרלשלל‎ל‏לםבםגםהםזםחםכםםםנםסםעםפםקםרםשם‎ם‏ןאןכןלןםןמןןןנןסןעןףןפןצןקןרןןןנבנגנדנהנזנחנכנלנננסנענפנץנצנקנרנשנ‏סבסגסדסהסזסחסכסלסםסןסנסססףספסץסצסקסרסשסתס‎עבעגעדעהעחעכעלעןענעעעפעץעצעקערעשעתעע‎ע‏עץגץדץהץךץכץלץןץנץסץעץרץ‎צאצגצוצךצלצמצףצקגקכקלקנקעקררגרורטרכרלרמרןרנרסרערצרקרר‏שםשמשנש‏א‏ב‏ג‏ד‏ה‏ו‏ז‏ח‏י‏ך‏כ‏ל‏ם‏ן‏נ‏ס‏ץ‏צ‏ק‏ר‏ש‏‏',
    31 => 'בבבגבדבהבובזבחבךבלבםבסבעבףבץבצבקברבשבתבב‏בגבגגגדגהגזגחגלגןגנגעגץגצגקגשגתג‏דבדגדדדהדחדלדנדעדרדהבהגהדהההזהחהכהלהןהסהעהץהצהרהתה‎ואובודוווזוחוטויוכוםומוןונוסוףופוץוצוקושו‎ו‏וזגזדזהזזזכזלזמזןזנזסזצזקזז‏חבחהחזחחחלחנחסחעחצחרחתח‎ח‏טאטבטגטדטהטוטזטטטיטךטכטלטמטןטנטסטעטףטפטץטרטשט‎ט‏טיגידיהיויחיכיליםימיןיניפיץיקירךגךהךזךחךךךלךנךעךצךקכבכגכדכהכוכזכחכככלכםכןכפכץכקכרכשכלגלדלללםלנלעלפלץלקלרל‎ל‏לםבםזםחםכםנםעםפםץםרם‎ןכןלןןןנןסןעןפןצןרןןנבנגנדנזנחנןנננענפנץנצנרנשננ‏נסבסגסדסהסזסחסלסןסנססספסץסצסקסרסשסתס‎ס‏עבעדעהעחעכעלעןענעעעפעץעצעקערעשעתע‎ע‏עץגץדץהץוץךץלץמץנץסץףץרץ‎צגצלצמצףקגקכקלקנקעקררארגרלרמרןרנרסרערףרצרקרר‏שמשנש‏א‏ב‏ג‏ד‏ה‏ו‏ז‏ח‏י‏ך‏כ‏ל‏ם‏ן‏נ‏ץ‏צ‏ק‏ר‏‏בגדהוזחטיךכםןנעץצקרש‏',
    );
  $res=0;
  for($i=0;$i<strlen($s)-1;$i++)
  {
    $c1=$s[$i];
    if($c1<'א'||$c1>'') continue;
    $c2=$s[$i+1];
    if($c2<'א'||$c2>'') continue;
    $i1=ord($c1)-ord('א');
    if(strpos($a[$i1],$c2)!==false)
    {
      $res++;
      continue;
    }
    if($i>=strlen($s)-2) continue;
    $c3=$s[$i+2];
    if($c3<'א'||$c3>'') continue;
    $i2=ord($c2)-ord('א');
    if(strpos($a[$i2],$c3)!==false)
    {
      $res++;
      $i++;
      continue;
    }
    $l=0;
    $r=strlen($b[$i1])/2-1;
    while($l<=$r)
    {
      $c=$l+(($r-$l)>>1);
      $ca=$b[$i1][$c*2];
      $cb=$b[$i1][$c*2+1];
      if($ca==$c2&&$cb==$c3)
      {
        $res++;
        break;
      }
      if($ca<$c2||$ca==$c2&&$cb<$c3)
        $l=$c+1;
      else
        $r=$c-1;
    }
  }
  return $res;
}

function _charset_alt_win($s)
{
  for($i=0;$i<strlen($s);$i++)
  {
    $c=ord($s[$i]);
    if($c>=0x80&&$c<=0x9f)
      $s[$i]=chr($c-0x80+0xc0);
    else if($c>=0xa0&&$c<=0xaf)
      $s[$i]=chr($c-0xa0+0xe0);
    else if($c>=0xc0&&$c<=0xdf)
      $s[$i]=chr($c-0xc0+0x80);
    else if($c>=0xf0&&$c<=0xff)
      $s[$i]=chr($c-0xf0+0xa0);
  }
  return $s;
}

function _charset_koi_win($s)
{
  $kw = array(
    //00   01   02   03   04   05   06   07   08   09   0a    0b   0c    0d   0e   0f
    0x80, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138,  139, 140,  141, 142, 143, //0x80 - 0x8f
     144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 0xbb, 156, 0xab, 158, 159, //0x90 - 0x9f
     160, 161, 162, 184, 164, 165, 166, 167, 168, 169, 170,  171, 172,  173, 174, 175, //0xa0 - 0xaf
     176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186,  187, 188,  189, 190, 191, //0xb0 - 0xbf
     254, 224, 225, 246, 228, 229, 244, 227, 245, 232, 233,  234, 235,  236, 237, 238, //0xc0 - 0xcf
     239, 255, 240, 241, 242, 243, 230, 226, 252, 251, 231,  248, 253,  249, 247, 250, //0xd0 - 0xdf
     222, 192, 193, 214, 196, 197, 212, 195, 213, 200, 201,  202, 203,  204, 205, 206, //0xe0 - 0xef
     207, 223, 208, 209, 210, 211, 198, 194, 220, 219, 199,  216, 221,  217, 215, 218  //0xf0 - 0xff
     );
  for($i=0;$i<strlen($s);$i++)
  {
    $c=ord($s[$i]);
    if($c>=128)
      $s[$i]=chr($kw[$c-128]);
  }
  return $s;
}

function _charset_utf8_win($s)
{
  $r='';
  $state=1;
  for ($i=0;$i<strlen($s);$i++)
  {
    $c=ord($s[$i]);
    switch($state)
    {
      case 1: //not a special symbol
        if($c<=127)
        {
          $r.=$s[$i];
        }
        else
        {
          if(($c>>5)==6)
          {
            $c1=$c;
            $state=2;
          }
          else
            $r.=chr(128);
        }
        break;
      case 2: //an utf-8 encoded symbol has been meet
        $new_c2=($c1&3)*64+($c&63);
        $new_c1=($c1>>2)&5;
        $new_i=$new_c1*256+$new_c2;
        switch($new_i)
        {
          case   1025: $out_c='¨'; break;
          case   1105: $out_c='¸'; break;
          case 0x00ab: $out_c='«'; break;
          case 0x00bb: $out_c='»'; break;
          default: $out_c=chr($new_i-848);
        }
        $r.=$out_c;
        $state=1;
        break;
    }
  }
  return $r;
}

function _charset_prepare($s)
{
  $r=0;
  $k=0;
  for($i=0;$i<strlen($s)&&$r<255;$i++)
  {
    $c=ord($s[$i]);
    if($c>=0x80)
    {
      $r++;
      $k=$i;
    }
  }
  return substr($s,0,$k+1);
}

function charset_win_lowercase($s)
{
  for($i=0;$i<strlen($s);$i++)
  {
    $c=ord($s[$i]);
    if($c>=0xc0&&$c<=0xdf)
      $s[$i]=chr($c+32);
    else if($s[$i]>='A'&&$s[$i]<='Z')
      $s[$i]=chr($c+32);
  }
  return $s;
}

function charset_x_win($s)
{
// returns a string converted from a best encoding (windows-1251 or koi-8r) to windows-1251
  $sa=_charset_prepare($s);
  $s1=charset_win_lowercase($sa);
  $r1='windows-1251';

  $c1=_charset_count_chars($s1);
  $b1=_charset_count_bad($s1);
  $p1=_charset_count_pairs($s1);
  $w1=$p1*32+$b1*64-$c1;

  $s2=charset_win_lowercase(_charset_koi_win($sa));
  $w2=-$c1; //־סמבוםםמסע ךמהטנמגךט koi-8r: עמע זו הטאןאחמם סטלגמכמג, קעמ ט הכ windows-1251
  if($w2<$w1)
  {
    $b2=_charset_count_bad($s2);
    $w2+=64*$b2;
    if($w2<$w1)
    {
      $p2=_charset_count_pairs($s2);
      $w2+=32*$p2;
      if($w2<$w1)
      {
        $r1='koi-8r';
        $w1=$w2;
      }
    }
  }

  $s2=charset_win_lowercase(_charset_utf8_win($sa));

  $c2=_charset_count_chars($s2);
  $w2=-$c2;
  if($w2<$w1)
  {
    $b2=_charset_count_bad($s2);
    $w2+=64*$b2;
    if($w2<$w1)
    {
      $p2=_charset_count_pairs($s2);
      $w2+=32*$p2;
      if($w2<$w1)
      {
        $r1='utf';
        $w1=$w2;
      }
    }
  }

  switch($r1)
  {
    case 'alt':
      return _charset_alt_win($s);
    case 'koi-8r':
      return _charset_koi_win($s);
    case 'utf':
      return _charset_utf8_win($s);
    default:
      return $s;
  }
  $s=str_replace("€€€","",$s);
  return $s;
}
?>
